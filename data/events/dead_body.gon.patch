DeadRat {
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_DEADRAT_REW1"
 
                            spawn_unit_next_fight {
                                object [Rat Pinky]
                                count 2
                                spawn_side enemies
                            }

                            global_effect_next_fight {
                                CharacterTypeGainsStatusAtBattleStart {
                                    tag rat
                                    Fear 1
                                }
                            }
                        }
                        rare {
                            prompt "EVENT_DEADRAT_REW2"
                            get_item_from_pool rat_trinkets
                        }
                    }
                }
            }

            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_DEADRAT_REW5"
                            full_heal 1
                            gain_food [2 10]
                        }
                        rare {
                            prompt "EVENT_DEADRAT_REW6"
                            random_mutation_from_set {
                                tail 1500
                                ears 1500
                                mouth 1500
                            }
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 4
                    reward {
                        common {
                            random_pool [
                                {
                                    prompt "EVENT_DEADRAT_REW9"
                                    gain_coins [5 10]
                                }
                                {
                                    prompt "EVENT_DEADRAT_REW10"
                                    get_item_from_pool food
                                }
                            ]
                        }
                        rare {
                            prompt "EVENT_DEADRAT_REW11"
                            get_item_from_pool rat_trinkets
                        }
                    }
                }
            }
        }
    }
}

DeadCat {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_DEADCAT_REW1"
                            heal 10
                            gain_food [2 10]

                            global_effect_next_fight {
                                KillEnemyOfTypeAtBattleStart {
                                    enemy_type cat
                                    fallback_spawn [TomTom Kitten CatCaller Mangy]
                                }
                            }
                        }
                        rare {
                            prompt "EVENT_DEADCAT_REW2"
                            gain_disorder Cannibal
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_DEADCAT_REW5"
                            get_item_from_pool [Catnip, CatnipBig, KiloOfCatnip]
                        }
                        rare {
                            prompt "EVENT_DEADCAT_REW6"
                            gain_cat_familiar 1
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_DEADCAT_REW9"
                            gain_coins [1 10]
                            get_item_from_pool consumables
                        }
                        rare {
                            prompt "EVENT_DEADCAT_REW10"
                            get_item_from_pool cat_armor
                        }
                    }
                }
            }
        }
    }
}

BonePile {
    main {
        options.overwrite {
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_BONEPILE_REW1"
                            get_item_from_pool bone_equipment
                        }
                        rare {
                            prompt "EVENT_BONEPILE_REW2"
                            get_item SnaggleTooth
                        }
                    }
                }
            }

            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    prompt "EVENT_BONEPILE_REW5"
                    set_frame 4
                    reward {
                        common {
                            heal 10
                            gain_food [10 25]
                        }
                        rare {
                            get_item BoneMarrow
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    prompt "EVENT_BONEPILE_REW8"
                    set_frame 3
                    reward {
                        common {
                            get_item_from_pool bone_weapons
                        }
                        rare {
                            get_item_from_pool bone_armor
                            get_item_from_pool bone_armor
                        }
                    }
                }
            }
        }
    }
}

GutPile {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_GUTPILE_REW1"
                            party_heal 100%
                            gain_food [5 15]
                        }
                        rare {
                            prompt "EVENT_GUTPILE_REW2"
                            gain_food [2 5]
                            permanent_stats {
                                con 1
                            }
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_GUTPILE_REW5"
                            gain_coins [1 15]
                            gain_food [1 15]
                        }
                        rare {
                            prompt "EVENT_GUTPILE_REW6"
                            get_item_from_pool guts_items
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_GUTPILE_REW9"
                            get_item_from_pool food
                            gain_food [1 5]
                        }
                        rare {
                            prompt "EVENT_GUTPILE_REW10"
                            gain_food [1 5]
                            get_item_from_pool food
                            get_item_from_pool food
                            get_item_from_pool food
                            get_item_from_pool food
                        }
                    }
                }
            }
        }
    }
}

SeveredHead {
    main {
        options.overwrite {
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_SEVEREDHEAD_REW1"
                        }
                        rare {
                            prompt "EVENT_SEVEREDHEAD_REW2"
                            get_item BlinkingEyeball
                        }
                    }
                }
            }

            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_SEVEREDHEAD_REW5"
                        }
                        rare {
                            prompt "EVENT_SEVEREDHEAD_REW6" 
                            get_item GoldenTooth
                        }
                    }
                }
            }

            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_SEVEREDHEAD_REW9"
                        }
                        rare {
                            prompt "EVENT_SEVEREDHEAD_REW10" 
                            permanent_stats {
                                con 2
                            }
                        }
                    }
                }
            }
        }
    }
}

CatPelts {
    main {
        options.overwrite {
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_PILEOFCATPELTS_REW1"
                            get_item_from_pool consumables
                            heal 3
                            party_heal 1
                            gain_food [1 5]
                        }
                        rare {
                            prompt "EVENT_PILEOFCATPELTS_REW2"
                            get_item_from_pool [CatHideHat CatHideMask CatHideArmor]
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_PILEOFCATPELTS_REW5"
                            get_item_from_pool consumables
                            heal 3
                            party_heal 1
                            gain_food [1 5]
                        }
                        rare {
                            prompt "EVENT_PILEOFCATPELTS_REW6"
                            get_item_from_pool [CatHideHat CatHideMask CatHideArmor]
                        }
                    }
                }
            }

            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_PILEOFCATPELTS_REW9"
                            get_item_from_pool consumables
                            heal 3
                            party_heal 1
                            gain_food [1 5]
                        }
                        rare {
                            prompt "EVENT_PILEOFCATPELTS_REW10"
                            get_item_from_pool [CatHideHat CatHideMask CatHideArmor]
                        }
                    }
                }
            }

        }
    }
}

Stain {
    main {
        options.overwrite {
            lick {
                label "EVENT_LICK_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_MYSTERIOUSSTAIN_REW1"
                            random_pool [ //RandomStatUp does not show on cat info in map.
                                {
                                    self_status_next_fight {
                                        StrengthUp 2
                                    }
                                }{
                                    self_status_next_fight {
                                        DexterityUp 2
                                    }
                                }{
                                    self_status_next_fight {
                                        ConstitutionUp 2
                                    }
                                }{
                                    self_status_next_fight {
                                        IntelligenceUp 2
                                    }
                                }{
                                    self_status_next_fight {
                                        SpeedUp 2
                                    }
                                }{
                                    self_status_next_fight {
                                        CharismaUp 2
                                    }
                                }{
                                    self_status_next_fight {
                                        LuckUp 2
                                    }
                                }
                            ]
                        }
                        rare {
                            prompt "EVENT_MYSTERIOUSSTAIN_REW2"
                            random_mutation 1
                        }
                    }
                }
            }

            leave {
                label "EVENT_LEAVE_ANSW"
                stat none
                animation choice_leave

                good {
                    prompt "EVENT_MYSTERIOUSSTAIN_REW5"
                    play_animation [resultLeave 0]
                }
            }
        }
    }
}

DecayingCarcass {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_DECAYINGCARCASS_REW1"
                            get_parasite_from_pool parasites
                            permanent_stats {
                                random 1
                            }
                        }
                        rare {
                            prompt "EVENT_DECAYINGCARCASS_REW2"
                            get_parasite_from_pool good_parasites
                        }
                    }
                }
            }
            
            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_DECAYINGCARCASS_REW5"
                            gain_familiar CharmedMaggot
                        }
                        rare {
                            prompt "EVENT_DECAYINGCARCASS_REW6"
                            get_and_equip_item FlyLarva
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_DECAYINGCARCASS_REW9"
                            //nothing
                        }

                        rare {
                            prompt "EVENT_DECAYINGCARCASS_REW10"
                            permanent_stats {
                                int 1
                            }
                        }
                    }
                }
            }
        }
    }
}

APoop {
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_APOOP_REW1"
                            gain_coins 1
                        }
                        rare {
                            prompt "EVENT_APOOP_REW2"
                            gain_coins 10
                        }
                    }
                }
            }
            
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_APOOP_REW5"
                            heal 1
                        }
                        rare {
                            prompt "EVENT_APOOP_REW6"
                            gain_disorder Scatological
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_APOOP_REW9"
                            get_item_from_pool consumables
                        }

                        rare {
                            prompt "EVENT_APOOP_REW10"
                            get_item_from_pool poop_items
                        }
                    }
                }
            }
        }
    }
}

ALargePoop { 
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_ALARGEPOOP_REW1"
                            gain_coins 10
                        }
                        rare {
                            prompt "EVENT_ALARGEPOOP_REW2"
                            gain_coins 25
                        }
                    }
                }
            }
            
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_ALARGEPOOP_REW5"
                            gain_disorder Scatological

                        }
                        rare {
                            prompt "EVENT_ALARGEPOOP_REW6"
                            gain_disorder Scatological
                            get_item EnchantingPoop
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_ALARGEPOOP_REW9"
                            get_item_from_pool poop_items
                        }

                        rare {
                            prompt "EVENT_ALARGEPOOP_REW10" 
                            get_item_from_pool poop_items
                            get_item_from_pool {
                                pool chapter
                                restrict trinket
                            }
                        }
                    }
                }
            }
        }
    }
}

AMegaHugePoop {
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_AMEGAHUGEPOOP_REW1"
                            gain_coins 25
                        }
                        rare {
                            prompt "EVENT_AMEGAHUGEPOOP_REW2"
                            gain_coins 50
                        }
                    }
                }
            }
            
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_AMEGAHUGEPOOP_REW5"
                            gain_disorder Scatological
                            get_item EnchantingPoop
                        }
                        rare {
                            prompt "EVENT_AMEGAHUGEPOOP_REW6"
                            gain_disorder Scatological
                            get_item EnchantingPoop
                            permanent_stats {
                                con 2
                            }
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_AMEGAHUGEPOOP_REW9"
                            get_item_from_pool poop_items
                            get_item_from_pool{
                                pool chapter_common
                                restrict trinket
                            }
                        }

                        rare {
                            prompt "EVENT_AMEGAHUGEPOOP_REW10"
                            get_item_from_pool{
                                pool chapter_common
                                restrict trinket
                            }
                            get_item_from_pool{
                                pool chapter
                                restrict trinket
                            }
                            get_item_from_pool{
                                pool chapter_rare
                                restrict trinket
                            }
                        }
                    }
                }
            }
        }
    }
}

MummifiedCorpse {
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_MUMMIFIEDCORPSE_REW1"
                            self_status_next_fight {
                                TempStrengthUp 1
                            }
                        }
                        rare {
                            prompt "EVENT_MUMMIFIEDCORPSE_REW2"    
                            permanent_stats {
                                str 1
                            }
                        }
                    }
                }
            }
            
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_MUMMIFIEDCORPSE_REW5"
                            //nothing, gain info about boss
                        }
                        rare {
                            prompt "EVENT_MUMMIFIEDCORPSE_REW6"
                            battle "events/chupacabra.lvl"
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_MUMMIFIEDCORPSE_REW9"
                            get_item_from_pool deadcat_equipment
                        }

                        rare {
                            prompt "EVENT_MUMMIFIEDCORPSE_REW10"
                            get_item_from_pool{
                                pool chapter_rare
                                restrict trinket
                            }
                        }
                    }
                }
            }
        }
    }
}

Fetus {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_FETUS_REW1"
                            party_heal 100%
                        }
                        rare {
                            prompt "EVENT_FETUS_REW2"
                            permanent_stats {
                                con 1
                            }
                            self_status_next_fight {
                                HealthRegenUp 1
                            }
                        }
                    }
                }
            }
            
            charm {
                label "EVENT_CHARM_ANSW"
                stat cha

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_FETUS_REW5"
                            gain_familiar CharmedPinky
                        }
                        rare {
                            prompt "EVENT_FETUS_REW6"
                            gain_familiar CharmedPinky
                            gain_familiar CharmedPinky
                            gain_familiar CharmedPinky
                        }
                    }
                }
            }

            ignore {
                label "EVENT_IGNORE_ANSW"
                stat none
                animation choice_leave

                good {
                    prompt "EVENT_FETUS_REW9"
                    play_animation [resultLeave 0]
                    //Nothing happens
                }
            }
        }
    }
}

BloodStain {
    main {
        options.overwrite {
            lick {
                label "EVENT_LICK_ANSW"
                stat con
                
                requirements {
                    is_not_chapter [future theend]
                }

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_BLOODSTAIN_REW1"
                            heal 1
                        }
                        rare {
                            prompt "EVENT_BLOODSTAIN_REW2"
                            get_parasite CrimsonMask
                        }
                    }
                }
            }
            
            lick_alt {
                label "EVENT_LICK_ANSW"
                stat con
                
                requirements {
                    is_chapter [future theend]
                }

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_BLOODSTAIN_ALT_REW1"
                            permanent_stats {
                                con 1
                            }
                        }
                        rare {
                            prompt "EVENT_BLOODSTAIN_ALT_REW2"
                            upgrade_passive random
                        }
                    }
                }
            }

            leave {
                label "EVENT_LEAVE_ANSW"
                stat none
                animation choice_leave

                good {
                    prompt "EVENT_BLOODSTAIN_REW5"
                    play_animation [resultLeave 0]
                }
            }
        }
    }
}

RottenMeat {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_ROTTENMEAT_REW1"
                            heal 5

                        }
                        rare {
                            prompt "EVENT_ROTTENMEAT_REW2"
                            learn_passive PoisonTips
                        }
                    }
                }
            }
            
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    reward {
                        common {
                            prompt "EVENT_ROTTENMEAT_REW5"
                            set_frame 4
                            gain_food [1 5]
                        }
                        rare {
                            prompt "EVENT_ROTTENMEAT_REW6"
                            set_frame 5
                            gain_familiar FamiliarChargeyMaggot
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            random_pool [
                                {
                                    prompt "EVENT_ROTTENMEAT_REW9"
                                    get_item_from_pool bone_weapons
                                }
                                {
                                    prompt "EVENT_ROTTENMEAT_REW10"
                                    gain_food [1 5]
                                }
                            ]
                        }

                        rare {
                            set_frame 1
                            prompt "EVENT_ROTTENMEAT_REW11"
                            get_item RottenMeat
                        }
                    }
                }
            }
        }
    }
}

OminousSign {
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {  
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_OMINOUSSIGN_REW1"
                            self_status_next_fight {
                                DivineShield 2
                            }
                        }
                        rare {
                            prompt "EVENT_OMINOUSSIGN_REW2"
                            learn_passive Blessed
                        }
                    }
                }
            }
            
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_OMINOUSSIGN_REW5"
                            ally_ambush_next_fights 1
                        }
                        rare {
                            prompt "EVENT_OMINOUSSIGN_REW6"
                            learn_ability_from_pool Necromancer                             
                        }
                    }
                } 
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_OMINOUSSIGN_REW9"
                            get_item_from_pool rat_trinkets
                        }

                        rare {
                            prompt "EVENT_OMINOUSSIGN_REW10"
                            get_item CursedStickman
                        }
                    }
                }
            }
        }
    }
}

StrangeFlowers {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_STRANGEFLOWERS_REW1"
                            get_and_equip_item Catnip
                        }
                        rare {
                            prompt "EVENT_STRANGEFLOWERS_REW2"
                            permanent_stats {
                                int 1
                            }
                        }
                    }
                }
            }
            
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_STRANGEFLOWERS_REW5"
                            get_item CatnipBig
                        }
                        rare {
                            prompt "EVENT_STRANGEFLOWERS_REW6"
                            get_item StrangeMarble //TODO: Gain strange bulb weapon
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_STRANGEFLOWERS_REW9"
                            get_item SeedBombs
                        }

                        rare {
                            prompt "EVENT_STRANGEFLOWERS_REW10"
                            get_item BagOfGrass
                        }
                    }
                }
            }
        }
    }
}

Mushroom {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_MUSHROOM_REW1"
                            self_status_next_fight{
                                IntelligenceUp 3
                            }
                        }
                        rare {
                            prompt "EVENT_MUSHROOM_REW2"
                            permanent_stats {
                                int 1
                            }
                        }
                    }
                }
            }
            
            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_MUSHROOM_REW5"
                            get_item_from_pool [Mushrooms, PurpleMushroom, BlackMushroom]
                        }
                        rare {
                            prompt "EVENT_MUSHROOM_REW6"
                            get_item_from_pool [SpottedMushroom, RedMushroom]
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_MUSHROOM_REW9"
                            random_pool [
                                {
                                    get_item_from_pool bone_armor
                                }
                                {
                                    get_item_from_pool cat_armor
                                }
                            ]
                            
                        }

                        rare {
                            prompt "EVENT_MUSHROOM_REW10"
                            get_item_from_pool rotten_armor
                        }
                    }
                }
            }
        }
    }
}

SmellyBag {
    main {
        options.overwrite {
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_SMELLYBAG_REW1"
                            get_item_from_pool consumables
                        }
                        rare { 
                            prompt "EVENT_SMELLYBAG_REW2"
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            random_pool [
                                {} //get 3 or 4 items.
                                {
                                    get_item_from_pool {
                                        pool chapter_common
                                        restrict [weapon consumables armor]
                                    }
                                }
                            ]
                        }
                    }
                }
            }
            
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_SMELLYBAG_REW5"
                            get_item_from_pool consumables
                        }
                        rare { 
                            prompt "EVENT_SMELLYBAG_REW6"
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            random_pool [
                                {} //get 3 or 4 items.
                                {
                                    get_item_from_pool {
                                        pool chapter_common
                                        restrict [weapon consumables armor]
                                    }
                                }
                            ]
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_SMELLYBAG_REW9"
                            get_item_from_pool consumables
                        }
                        rare { 
                            prompt "EVENT_SMELLYBAG_REW10"
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            get_item_from_pool {
                                pool chapter_common
                                restrict [weapon consumables armor]
                            }
                            random_pool [
                                {} //get 3 or 4 items.
                                {
                                    get_item_from_pool {
                                        pool chapter_common
                                        restrict [weapon consumables armor]
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        }
    }
}

ASmallPileOfStones {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_ASMALLPILEOFSTONES_REW1"
                            heal 1
                        }
                        rare {
                            prompt "EVENT_ASMALLPILEOFSTONES_REW2"
                            permanent_stats { //TODO: gain RockTeeth item: +2 melee damage
                                str 1
                            }
                        }
                    }
                }
            }
            
            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_ASMALLPILEOFSTONES_REW5"
                            get_item Rocks
                        }
                        rare {
                            prompt "EVENT_ASMALLPILEOFSTONES_REW6"
                            get_item Rocks
                            get_item Rocks
                            get_item_from_pool rock_items
                            get_item_from_pool rock_items
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 4
                    reward {
                        common {
                            prompt "EVENT_ASMALLPILEOFSTONES_REW9"
                            gain_coins [3 7]
                        }

                        rare {
                            prompt "EVENT_ASMALLPILEOFSTONES_REW10"
                            gain_coins [15 30]
                        }
                    }
                }
            }
        }
    }
}

FruitBasket {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_FRUITBASKET_REW1"
                            full_heal 1
                        }
                        rare {
                            prompt "EVENT_FRUITBASKET_REW2"
                            party_heal 100%
                        }
                    }
                }
            }
            
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_FRUITBASKET_REW5"
                            //nothing happens.
                        }
                        rare {
                            prompt "EVENT_FRUITBASKET_REW6"
                            get_item_from_pool [MagicSeed, BagOfSeeds, GlowingSeed] 
                        }
                    }
                }
            }

            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_FRUITBASKET_REW9"
                            party_heal 3
                        }

                        rare {
                            prompt "EVENT_FRUITBASKET_REW10"
                            party_heal 6
                            party_status_next_fight {
                                DivineShield 1
                            }
                        }
                    }
                }
            }
        }
    }
}

HumanSkin {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_HUMANSKIN_REW1"
                            heal 5
                        }
                        rare {
                            prompt "EVENT_HUMANSKIN_REW2"
                            mutation {
                                eyes 702 //gain human eyes
                            }
                        }
                    }
                }
            }
            
            examine {
                label "EVENT_EXAMINE_ANSW"
                stat int
                
                good {
                    reward {
                        common {
                            set_frame 3
                            prompt "EVENT_HUMANSKIN_REW5"
                            get_item_from_pool consumables
                        }
                        rare {
                            set_frame 4
                            prompt "EVENT_HUMANSKIN_REW6"
                            mutation { 
                                ears 310 //gain human ears
                            }
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    reward {
                        common {
                            set_frame 4
                            prompt "EVENT_HUMANSKIN_REW9"
                            //nothing happens
                        }

                        rare {
                            set_frame 5
                            prompt "EVENT_HUMANSKIN_REW10"
                            mutation {
                                eyebrows 440 //gain human eyebrows
                            }
                        }
                    }
                }
            }
        }
    }
}

BottleOfViperBooze {
    main {
        options.overwrite {
            drink {
                label "EVENT_DRINK_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_BOTTLEOFVIPERBOOZE_REW1"
                            permanent_stats {
                                random 1
                            }
                        }
                        rare {
                            prompt "EVENT_BOTTLEOFVIPERBOOZE_REW2"
                            learn_ability BarfBall
                        }
                    }
                }
            }
            
            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_BOTTLEOFVIPERBOOZE_REW5"
                            get_item Bottles
                        }
                        rare {
                            prompt "EVENT_BOTTLEOFVIPERBOOZE_REW6"
                            get_item ViperBottle
                        }
                    }
                }
            }

            leave {
                label "EVENT_LEAVE_ANSW"
                stat none
                animation choice_leave
                
                good {
                    prompt "EVENT_BOTTLEOFVIPERBOOZE_REW9"
                    play_animation [resultLeave 0]
                }
            }
        }
    }
}

Hairball {
    main {
        options.overwrite {
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    reward {
                        common {
                            set_frame 2
                            prompt "EVENT_HAIRBALL_REW1"
                            heal 1
                        }
                        rare {
                            set_frame 3
                            prompt "EVENT_HAIRBALL_REW2"
                            get_item RatBeezer
                        }
                    }
                }
            }
            
            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_HAIRBALL_REW5"
                            gain_coins 1
                        }
                        rare {
                            prompt "EVENT_HAIRBALL_REW6"
                            gain_coins 20
                        }
                    }
                }
            }
            
            leave {
                label "EVENT_LEAVE_ANSW"
                stat none
                animation choice_leave
                
                good {
                    prompt "EVENT_HAIRBALL_REW9"
                    play_animation [resultLeave 0]
                }
            }
        }
    }
}

TallGrass {
    main {
        options.overwrite {
            destroy {
                label "EVENT_DESTROY_ANSW"
                stat str

                good {
                    reward {
                        common {
                            set_frame 2
                            prompt "EVENT_TALLGRASS_REW1"
                            ally_ambush_next_fights 1
                        }
                        rare {
                            set_frame 3
                            prompt "EVENT_TALLGRASS_REW2"
                            gain_coins [10 20]
                        }
                    }
                }
            }
            
            eat {
                label "EVENT_EAT_ANSW"
                stat con

                good {
                    reward {
                        common {
                            set_frame 2
                            prompt "EVENT_TALLGRASS_REW5"
                            full_heal 1
                            self_status_next_fight {
                                HealthRegenUp 1
                            }
                        }
                        rare {
                            set_frame 2
                            prompt "EVENT_TALLGRASS_REW6"
                            //TODO: Gain grass mutation instead of spawning grass and healing.
                            party_heal 5
                            party_status_next_fight {
                                AbilityOnBattleStart_Immediate GrassEvent
                            }
                        }
                    }
                }
            }

            loot {
                label "EVENT_LOOT_ANSW"
                stat dex
                animation choice_dex_alt

                good {
                    set_frame 3
                    reward {
                        common {
                            prompt "EVENT_TALLGRASS_REW9"
                            random_pool [
                                {
                                    get_item KiloOfCatnip
                                }
                                {
                                    get_item CatnipBig
                                    get_item CatnipBig
                                }
                                {
                                    get_item Catnip
                                    get_item Catnip
                                    get_item Catnip
                                }
                            ]
                        }

                        rare {
                            prompt "EVENT_TALLGRASS_REW10"
                            get_item_from_pool grass_items
                            get_item_from_pool grass_items
                        }
                    }
                }
            }
        }
    }
}

Fountain {
    main {
        options.overwrite {
            drink {
                label "EVENT_DRINK_ANSW"
                stat con

                good {
                    set_frame 2
                    reward {
                        common {
                            prompt "EVENT_FOUNTAIN_REW1"
                            full_heal 1
                            heal_injury 1
                        }
                        rare {
                            prompt "EVENT_FOUNTAIN_REW2"
                            set_age 1
                        }
                    }
                }
            }
            
            leave {
                label "EVENT_LEAVE_ANSW"
                stat none
                animation choice_leave

                good {
                    prompt "EVENT_FOUNTAIN_LEAVE"
                    play_animation [resultLeave 0]
                }
            }
        }   
    }
}